# PostgreSQL configuration for CI/test environment
# Optimized for fast startup and test performance

# Connection Settings
max_connections = 20
superuser_reserved_connections = 2

# Memory Settings (reduced for faster startup)
shared_buffers = 32MB
work_mem = 2MB
maintenance_work_mem = 16MB
dynamic_shared_memory_type = posix

# WAL Settings (minimal for tests)
wal_level = minimal
max_wal_senders = 0
wal_buffers = 1MB
checkpoint_completion_target = 0.9

# Performance Settings
effective_cache_size = 128MB
random_page_cost = 1.1
seq_page_cost = 1.0

# Logging (minimal for CI)
log_statement = 'none'
log_min_duration_statement = -1
log_checkpoints = off
log_connections = off
log_disconnections = off

# Autovacuum (disabled for tests)
autovacuum = off

# Background Writer
bgwriter_delay = 200ms
bgwriter_lru_maxpages = 100
